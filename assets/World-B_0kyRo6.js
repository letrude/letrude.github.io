const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/UI-C41HzDji.js","assets/index-DBQIma9q.js","assets/index-CbW46zb5.css","assets/LanguageSwitchButton-h5UTkckl.js","assets/proxy-MkxmZUn4.js","assets/GameScene-Bew_K_kh.js","assets/Float-Ugpc6bTq.js","assets/extends-CF3RwP-h.js"])))=>i.map(i=>d[i]);
import{c as g,u as m,r as s,j as e,_ as l}from"./index-DBQIma9q.js";import{D as c,a as h,m as d,C as y}from"./proxy-MkxmZUn4.js";let a=0;const v=g(r=>(c.onStart=(i,n,t)=>{r({active:!0,item:i,loaded:n,total:t,progress:(n-a)/(t-a)*100})},c.onLoad=()=>{r({active:!1})},c.onError=i=>r(n=>({errors:[...n.errors,i]})),c.onProgress=(i,n,t)=>{n===t&&(a=t),r({active:!0,item:i,loaded:n,total:t,progress:(n-a)/(t-a)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function j(){const{progress:r,active:i}=v(),{isSceneReady:n,uiText:t}=m(),[p,u]=s.useState(!1),[o,x]=s.useState(0);return s.useEffect(()=>{(r>o||r===100)&&x(r)},[r,o]),s.useEffect(()=>{if(!i&&o===100&&n){const f=setTimeout(()=>{u(!0)},500);return()=>clearTimeout(f)}},[i,o,n]),e.jsx(h,{children:!p&&e.jsxs(d.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.8,ease:"easeInOut"},style:{position:"absolute",top:0,left:0,width:"100vw",height:"100vh",background:"#2c1810",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:9999,fontFamily:"'Courier New', Courier, monospace",color:"#eecfa1",pointerEvents:"auto"},children:[e.jsx(d.h1,{animate:{opacity:[1,.5,1]},transition:{duration:1.5,repeat:1/0},style:{marginBottom:"40px",fontSize:"2rem",textTransform:"uppercase",letterSpacing:"5px",textShadow:"2px 2px 0 #000",textAlign:"center",padding:"0 20px"},children:o===100?t.init:t.loading}),e.jsx("div",{style:{width:"300px",height:"24px",border:"4px solid #5c4033",padding:"4px",borderRadius:"12px",background:"rgba(0,0,0,0.5)",boxShadow:"0 5px 15px rgba(0,0,0,0.5)",overflow:"hidden"},children:e.jsx(d.div,{initial:{width:0},animate:{width:`${o}%`},transition:{type:"spring",stiffness:60,damping:20},style:{height:"100%",maxWidth:"100%",background:"linear-gradient(90deg, #8b4513, #eecfa1)",borderRadius:"8px",boxShadow:"0 0 10px rgba(238, 207, 161, 0.5)"}})}),e.jsxs("div",{style:{marginTop:"15px",fontWeight:"bold",fontSize:"1.2rem"},children:[Math.floor(o),"%"]}),e.jsx("p",{style:{marginTop:"30px",fontSize:"0.8rem",opacity:.7,fontStyle:"italic",maxWidth:"80%",textAlign:"center"},children:o<100?t.download:n?t.launching:t.compiling})]},"loading-screen")})}const S=s.lazy(()=>l(()=>import("./UI-C41HzDji.js"),__vite__mapDeps([0,1,2,3,4]))),b=s.lazy(()=>l(()=>import("./GameScene-Bew_K_kh.js"),__vite__mapDeps([5,1,2,4,6,7])));function w(){return s.useEffect(()=>{const r=i=>i.preventDefault();return document.addEventListener("contextmenu",r),()=>document.removeEventListener("contextmenu",r)},[]),e.jsxs(e.Fragment,{children:[e.jsx(j,{}),e.jsx(y,{shadows:!0,dpr:[1,2],children:e.jsx(s.Suspense,{fallback:null,children:e.jsx(b,{})})}),e.jsx(s.Suspense,{fallback:null,children:e.jsx(S,{})})]})}export{w as default};
