import{j as e,u as I,a as R}from"./index-DDEncEaC.js";import{b as u}from"./react-vendor-B-TwoIBf.js";import{L as T}from"./LanguageSwitchButton-DrVhFSx1.js";import{m as i,A as w}from"./react-three-fiber.esm-emscRgE9.js";import"./three-core-Dw7HmUCS.js";const m=({label:o,width:n="auto"})=>e.jsx("span",{style:{display:"inline-block",minWidth:n,padding:"4px 8px",margin:"0 4px",borderRadius:"6px",background:"#e6dcb8",color:"#4a332a",border:"2px solid #6d4c41",borderBottom:"4px solid #6d4c41",fontWeight:"bold",fontSize:"0.8rem",fontFamily:"sans-serif",textAlign:"center",transform:"translateY(-2px)",textShadow:"none",boxShadow:"0 2px 3px rgba(0,0,0,0.1)"},children:o}),W=({content:o})=>e.jsx("div",{style:{whiteSpace:"pre-line",fontSize:"1.1rem",lineHeight:"1.6",color:"#4a3b2a"},children:o}),A=({data:o})=>{const n=I(p=>p.uiText);return e.jsxs("div",{style:{border:"2px dashed #8b4513",padding:"20px",background:"rgba(255,255,255,0.4)",borderRadius:"10px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"15px",marginBottom:"10px",flexWrap:"wrap"},children:[e.jsx("h2",{style:{marginTop:0,color:"#8b4513",fontSize:"1.5rem",marginBottom:"5px"},children:o.title}),o.link&&e.jsxs(i.a,{href:o.link,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05,backgroundColor:"#8b4513",color:"#f4e4bc"},whileTap:{scale:.95},style:{textDecoration:"none",color:"#8b4513",border:"2px solid #8b4513",padding:"6px 12px",borderRadius:"6px",fontSize:"0.85rem",fontWeight:"bold",fontFamily:"inherit",display:"flex",alignItems:"center",gap:"6px",background:"rgba(255,255,255,0.6)",cursor:"pointer",boxShadow:"0 2px 5px rgba(0,0,0,0.1)"},children:[e.jsx("span",{children:"ðŸ”—"})," ",n.viewCode]})]}),e.jsx("div",{style:{background:"#5c4033",color:"#fff",display:"inline-block",padding:"4px 10px",borderRadius:"5px",fontSize:"0.8rem",marginBottom:"15px"},children:o.tech}),e.jsx("p",{style:{fontWeight:"bold",fontSize:"1rem",margin:"10px 0"},children:o.desc}),e.jsx("p",{style:{fontStyle:"italic",opacity:.9,fontSize:"0.95rem"},children:o.details})]})},E=({data:o})=>e.jsxs("div",{children:[e.jsx("h3",{style:{borderBottom:"2px solid #8b4513",paddingBottom:"10px",color:"#8b4513"},children:o.category}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px",marginTop:"20px"},children:o.items.map((n,p)=>e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px",fontSize:"0.9rem",fontWeight:"bold",color:"#4a3b2a"},children:[e.jsx("span",{children:n.name}),e.jsxs("span",{children:[n.level,"%"]})]}),e.jsx("div",{style:{width:"100%",height:"8px",background:"rgba(92, 64, 51, 0.2)",borderRadius:"4px",overflow:"hidden"},children:e.jsx(i.div,{initial:{width:0},animate:{width:`${n.level}%`},transition:{duration:1,delay:.2},style:{height:"100%",background:"#8b4513"}})})]},p))})]}),D="/",B={display:"block",background:"rgba(255,255,255,0.4)",padding:"12px",borderRadius:"8px",textDecoration:"none",color:"#4a3b2a",fontWeight:"bold",border:"1px solid rgba(92, 64, 51, 0.2)",transition:"0.2s"};function L(){const{currentZone:o,isReadingMode:n,enableReadingMode:p,content:k,setViewMode:S,volume:h,setVolume:z,uiText:l,isContactOpen:x,setContactOpen:f}=I(),[r,j]=u.useState(0),s=o?k[o]:null,b=s?s.pages[r]:null,c=s?s.pages.length:0,C=R(),g={fontFamily:"'Courier New', Courier, monospace",fontWeight:"bold"},v=k.Contact,y=u.useCallback(t=>{s&&(t==="next"&&r<c-1&&j(a=>a+1),t==="prev"&&r>0&&j(a=>a-1))},[r,c,s]),d=u.useRef(null);return u.useEffect(()=>{d.current=new Audio(`${D}sounds/background_music.mp3`),d.current.loop=!0,d.current.volume=.4;const t=d.current.play();return t!==void 0&&t.catch(a=>{console.log("Autoplay bloquÃ© par le navigateur, attente d'interaction :",a)}),()=>{d.current&&(d.current.pause(),d.current=null)}},[]),u.useEffect(()=>{d.current&&(d.current.volume=h)},[h]),u.useEffect(()=>{const t=a=>{if(a.code==="Escape"){if(x){f(!1);return}p(!1),j(0);return}n&&!x&&(["KeyD","KeyS","ArrowRight","ArrowDown","Space"].includes(a.code)&&y("next"),["KeyA","KeyW","KeyZ","KeyQ","ArrowLeft","ArrowUp"].includes(a.code)&&y("prev"))};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[n,y,p,x,f]),e.jsxs("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",userSelect:"none"},children:[e.jsxs("div",{style:{position:"absolute",top:"30px",right:"30px",zIndex:50,display:"flex",alignItems:"center",gap:"20px",pointerEvents:"auto"},children:[e.jsx("div",{style:{background:"rgba(0, 0, 0, 0.5)",borderRadius:"12px",backdropFilter:"blur(5px)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:e.jsx(T,{style:{border:"none",boxShadow:"none",background:"transparent",color:"white"}})}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",background:"rgba(0, 0, 0, 0.5)",padding:"8px 15px",borderRadius:"30px",backdropFilter:"blur(5px)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[e.jsx("span",{style:{fontSize:"1.2rem"},children:h===0?"ðŸ”‡":h<.5?"ðŸ”‰":"ðŸ”Š"}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:h,onChange:t=>z(parseFloat(t.target.value)),tabIndex:"-1",style:{cursor:"pointer",accentColor:"#eecfa1"},onKeyDown:t=>t.preventDefault(),"aria-label":"Volume"})]}),e.jsxs(i.button,{onClick:t=>{f(!0),t.currentTarget.blur()},tabIndex:"-1",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},style:{display:"flex",alignItems:"center",gap:"10px",backgroundColor:"#eecfa1",opacity:1,color:"#2c1810",border:"2px solid #3e2723",borderBottom:"5px solid #3e2723",cursor:"pointer",padding:"10px 20px",borderRadius:"8px",fontFamily:"'Courier New', Courier, monospace",fontWeight:"900",fontSize:"1rem",boxShadow:"0 10px 30px rgba(0,0,0,0.8)"},children:[e.jsx("span",{style:{fontSize:"1.2rem"},children:"âœ‰ï¸"}),l.contact]})]}),e.jsxs("div",{style:{position:"absolute",top:"30px",left:"30px",display:"flex",flexDirection:"column",gap:"10px",alignItems:"flex-start",pointerEvents:"auto"},children:[e.jsx("h1",{style:{...g,margin:0,color:"white",fontSize:"1.8rem",textShadow:"2px 2px 0 #000",letterSpacing:"1px"},children:"ANGE GRIMAUD"}),e.jsxs(i.button,{whileHover:{scale:1.05,backgroundColor:"rgba(255, 255, 255, 0.2)"},whileTap:{scale:.95},onClick:()=>{S("2d"),C("/classic")},tabIndex:"-1",style:{background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(5px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"12px",padding:"8px 16px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontSize:"0.85rem",fontWeight:"bold",fontFamily:"sans-serif"},children:[e.jsx("span",{children:"ðŸ“„"})," ",l.classic]}),e.jsxs(i.button,{whileHover:{scale:1.05,backgroundColor:"rgba(255, 255, 255, 0.2)"},whileTap:{scale:.95},onClick:()=>{S("menu"),C("/")},tabIndex:"-1",style:{background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(5px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"12px",padding:"8px 16px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontSize:"0.85rem",fontWeight:"bold",fontFamily:"sans-serif",marginTop:"5px"},children:[e.jsx("span",{children:"ðŸ "})," ",l.backToMenu]})]}),e.jsx(w,{children:x&&v&&e.jsx(i.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.7)",backdropFilter:"blur(5px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:200,pointerEvents:"auto"},onClick:()=>f(!1),children:e.jsxs(i.div,{initial:{scale:.8,y:50},animate:{scale:1,y:0},exit:{scale:.8,y:50},onClick:t=>t.stopPropagation(),style:{width:"90%",maxWidth:"400px",background:"#f4e4bc",border:"4px solid #5c4033",borderRadius:"16px",padding:"30px",boxShadow:"0 20px 50px rgba(0,0,0,0.5)",textAlign:"center",position:"relative"},children:[e.jsxs("div",{style:{position:"absolute",top:"15px",right:"15px",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("span",{style:{...g,fontSize:"0.75rem",color:"#5c4033",opacity:.6},children:"[ECHAP]"}),e.jsx(i.button,{onClick:()=>f(!1),whileHover:{scale:1.2,rotate:90,color:"#a00"},whileTap:{scale:.9},transition:{type:"spring",stiffness:300},style:{background:"transparent",border:"none",fontSize:"1.5rem",color:"#5c4033",cursor:"pointer",fontWeight:"bold",outline:"none",display:"flex",alignItems:"center",justifyContent:"center",padding:0},children:"Ã—"})]}),e.jsx("h2",{style:{...g,margin:"0 0 20px 0",color:"#3e2723",borderBottom:"2px solid rgba(62, 39, 35, 0.2)",paddingBottom:"10px"},children:v.title}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"15px",marginBottom:"30px"},children:v.pages.filter(t=>t.type==="contact_card").map((t,a)=>e.jsxs(i.a,{href:t.link,target:"_blank",rel:"noopener noreferrer",style:B,whileHover:{scale:1.04,backgroundColor:"rgba(255, 255, 255, 0.9)",borderColor:"#8b4513",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"},whileTap:{scale:.98},transition:{type:"spring",stiffness:400,damping:25},children:[t.icon,e.jsx("span",{style:{marginLeft:"10px"},children:t.title==="Email"?t.value:t.title})]},a))}),v.pages.filter(t=>t.type==="cv_download").map((t,a)=>e.jsxs(i.a,{href:"/pdf/CV_Ange_GRIMAUD.pdf",target:"_blank",whileHover:{scale:1.05,backgroundColor:"#3e2723",color:"#fff"},whileTap:{scale:.95},style:{display:"inline-block",width:"100%",padding:"15px 0",background:"#5c4033",color:"#f4e4bc",textDecoration:"none",borderRadius:"8px",fontWeight:"bold",fontFamily:"'Courier New', Courier, monospace",fontSize:"1.1rem",border:"2px solid #3e2723",boxSizing:"border-box"},children:["ðŸ“œ ",t.title]},a))]})})}),e.jsx(w,{children:o&&!n&&!x&&e.jsxs(i.div,{initial:{y:50,opacity:0,x:"-50%"},animate:{y:0,opacity:1,x:"-50%"},exit:{y:50,opacity:0,x:"-50%"},transition:{type:"spring",stiffness:300,damping:20},style:{position:"absolute",bottom:"10%",left:"50%",background:"rgba(243, 229, 171, 0.95)",backdropFilter:"blur(5px)",color:"#3e2723",border:"2px solid #3e2723",padding:"12px 35px",borderRadius:"50px",boxShadow:"0 10px 30px rgba(0,0,0,0.3)",display:"flex",alignItems:"center",gap:"20px",pointerEvents:"auto",cursor:"pointer",whiteSpace:"nowrap"},onClick:()=>p(!0),children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[e.jsx("span",{style:{fontSize:"0.7rem",textTransform:"uppercase",letterSpacing:"1px",fontWeight:"bold",color:"#8b4513",opacity:.8},children:l.discovered}),e.jsx("span",{style:{...g,fontSize:"1.4rem"},children:s.title})]}),e.jsx("div",{style:{width:"1px",height:"35px",background:"rgba(62, 39, 35, 0.2)"}}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",fontSize:"1rem",fontWeight:"bold",color:"#3e2723"},children:[e.jsx("span",{children:l.enter}),e.jsx(m,{label:l.space,width:"60px"})]})]})}),e.jsx(w,{children:n&&s&&!x&&e.jsx(i.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"auto",backdropFilter:"blur(8px)",zIndex:100},children:e.jsxs(i.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},style:{width:"90%",maxWidth:"600px",height:"85vh",maxHeight:"750px",background:"#f4e4bc",backgroundImage:"linear-gradient(#f4e4bc, #e6d2a0)",border:"8px solid #5c4033",borderRadius:"16px",padding:"40px",position:"relative",display:"flex",flexDirection:"column",boxShadow:"0 25px 50px rgba(0,0,0,0.7), inset 0 0 100px rgba(139, 69, 19, 0.1)",color:"#4a3b2a",fontFamily:"Georgia, serif"},children:[e.jsxs("div",{style:{position:"absolute",top:"20px",right:"20px",display:"flex",alignItems:"center",gap:"10px",zIndex:10},children:[e.jsx("span",{style:{...g,fontSize:"12px",color:"#5c4033",opacity:.7},children:"[ECHAP]"}),e.jsx(i.button,{onClick:()=>{p(!1),j(0)},whileHover:{scale:1.2,rotate:90,backgroundColor:"#d32f2f"},whileTap:{scale:.9},transition:{type:"spring",stiffness:300},style:{background:"#a00",color:"white",border:"none",width:"32px",height:"32px",cursor:"pointer",borderRadius:"50%",fontWeight:"bold",boxShadow:"0 2px 5px rgba(0,0,0,0.2)",fontSize:"1rem",lineHeight:"1",display:"flex",alignItems:"center",justifyContent:"center",outline:"none"},children:"Ã—"})]}),e.jsxs("div",{style:{textAlign:"center",borderBottom:"2px solid rgba(92, 64, 51, 0.3)",paddingBottom:"20px",marginBottom:"20px"},children:[e.jsx("h1",{style:{...g,margin:0,fontSize:"2rem",textTransform:"uppercase",color:"#3e2723"},children:s.title}),e.jsxs("span",{style:{fontSize:"0.9rem",fontWeight:"bold",color:"#8b4513",background:"rgba(139, 69, 19, 0.1)",padding:"4px 12px",borderRadius:"20px",marginTop:"10px",display:"inline-block"},children:["Page ",r+1," / ",c]})]}),e.jsx("div",{style:{flex:1,overflowY:"auto",overflowX:"hidden",paddingRight:"10px"},children:e.jsx(w,{mode:"wait",children:e.jsxs(i.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:[b.type==="text"&&e.jsx(W,{content:b.content}),b.type==="project"&&e.jsx(A,{data:b}),b.type==="skills"&&e.jsx(E,{data:b})]},r)})}),e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"30px",marginTop:"20px",paddingTop:"20px",borderTop:"1px solid rgba(92, 64, 51, 0.3)"},children:[e.jsxs(i.button,{onClick:()=>y("prev"),disabled:r===0,whileHover:r===0?{}:{scale:1.05,x:-5,backgroundColor:"rgba(92, 64, 51, 0.2)"},whileTap:r===0?{}:{scale:.95},style:{background:"rgba(92, 64, 51, 0.1)",border:"none",padding:"10px 20px",borderRadius:"8px",cursor:r===0?"default":"pointer",opacity:r===0?.3:1,color:"#5c4033",fontWeight:"bold",transition:"background-color 0.2s"},children:["â—„ ",l.prev]}),e.jsx("div",{style:{fontSize:"0.75rem",opacity:.6,textAlign:"center",lineHeight:"1.4"},children:l.navHelp}),e.jsxs(i.button,{onClick:()=>y("next"),disabled:r===c-1,whileHover:r===c-1?{}:{scale:1.05,x:5,backgroundColor:"rgba(92, 64, 51, 0.2)"},whileTap:r===c-1?{}:{scale:.95},style:{background:"rgba(92, 64, 51, 0.1)",border:"none",padding:"10px 20px",borderRadius:"8px",cursor:r===c-1?"default":"pointer",opacity:r===c-1?.3:1,color:"#5c4033",fontWeight:"bold",transition:"background-color 0.2s"},children:[l.next," â–º"]})]})]})})}),!n&&!x&&e.jsx("div",{style:{position:"absolute",bottom:30,left:30,...g,color:"white",textShadow:"2px 2px 0 black",fontSize:"14px"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"8px"},children:[e.jsxs("div",{style:{display:"flex",gap:"2px"},children:[e.jsx(m,{label:"Z"}),e.jsx(m,{label:"Q"}),e.jsx(m,{label:"S"}),e.jsx(m,{label:"D"})]}),e.jsx("span",{children:l.move})]})})]})}export{L as default};
