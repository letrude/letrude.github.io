const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/UI-dQ5tYT8V.js","assets/index-CXmzTZEl.js","assets/react-vendor-B-TwoIBf.js","assets/index-CbW46zb5.css","assets/LanguageSwitchButton-4vfLKs4Z.js","assets/react-three-fiber.esm-B_7n75fd.js","assets/three-core-Dw7HmUCS.js","assets/GameScene-BSke1FGP.js","assets/Float-BuYsn__W.js","assets/extends-CF3RwP-h.js"])))=>i.map(i=>d[i]);
import{u as j,j as t,_ as p}from"./index-CXmzTZEl.js";import{A as v,m as u,C as S}from"./react-three-fiber.esm-B_7n75fd.js";import{c as E,b as o}from"./react-vendor-B-TwoIBf.js";import{D as l}from"./three-core-Dw7HmUCS.js";let d=0;const _=E(e=>(l.onStart=(a,i,n)=>{e({active:!0,item:a,loaded:i,total:n,progress:(i-d)/(n-d)*100})},l.onLoad=()=>{e({active:!1})},l.onError=a=>e(i=>({errors:[...i.errors,a]})),l.onProgress=(a,i,n)=>{i===n&&(d=n),e({active:!0,item:a,loaded:i,total:n,progress:(i-d)/(n-d)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function w(){const{progress:e,active:a}=_(),{isSceneReady:i,uiText:n}=j(),[f,g]=o.useState(!1),[r,h]=o.useState(0);return o.useEffect(()=>{let c;const m=()=>{h(s=>{if(s>=e&&s<100)return s;if(s>=100)return 100;const y=e-s,b=Math.max(.1,y*.05),x=s+b;return x>e-.1&&e<100?e:Math.min(x,100)}),r<e&&r<100&&(c=requestAnimationFrame(m))};return r<e&&(c=requestAnimationFrame(m)),()=>cancelAnimationFrame(c)},[r,e]),o.useEffect(()=>{if(!a&&r===100&&i){const c=setTimeout(()=>{g(!0)},100);return()=>clearTimeout(c)}},[a,r,i]),t.jsx(v,{children:!f&&t.jsxs(u.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.2,ease:"easeInOut"},style:{position:"absolute",top:0,left:0,width:"100vw",height:"100vh",background:"#2c1810",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:9999,fontFamily:"'Courier New', Courier, monospace",color:"#eecfa1",pointerEvents:"auto"},children:[t.jsx(u.h1,{animate:{opacity:[1,.5,1]},transition:{duration:1.5,repeat:1/0},style:{marginBottom:"40px",fontSize:"2rem",textTransform:"uppercase",letterSpacing:"5px",textShadow:"2px 2px 0 #000",textAlign:"center",padding:"0 20px"},children:r===100?n.init:n.loading}),t.jsx("div",{style:{width:"300px",height:"24px",border:"4px solid #5c4033",padding:"4px",borderRadius:"12px",background:"rgba(0,0,0,0.5)",boxShadow:"0 5px 15px rgba(0,0,0,0.5)",overflow:"hidden"},children:t.jsx(u.div,{initial:{width:0},animate:{width:`${r}%`},transition:{duration:0},style:{height:"100%",maxWidth:"100%",background:"linear-gradient(90deg, #8b4513, #eecfa1)",borderRadius:"8px",boxShadow:"0 0 10px rgba(238, 207, 161, 0.5)"}})}),t.jsxs("div",{style:{marginTop:"15px",fontWeight:"bold",fontSize:"1.2rem"},children:[Math.floor(r),"%"]}),t.jsx("p",{style:{marginTop:"30px",fontSize:"0.8rem",opacity:.7,fontStyle:"italic",maxWidth:"80%",textAlign:"center",minHeight:"1.2em"},children:r<25?n.init:r<70?n.download:r<99?n.compiling:n.launching})]},"loading-screen")})}const L=o.lazy(()=>p(()=>import("./UI-dQ5tYT8V.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),A=o.lazy(()=>p(()=>import("./GameScene-BSke1FGP.js"),__vite__mapDeps([7,1,2,3,6,5,8,9])));function D(){return o.useEffect(()=>{const e=a=>a.preventDefault();return document.addEventListener("contextmenu",e),()=>document.removeEventListener("contextmenu",e)},[]),t.jsxs(t.Fragment,{children:[t.jsx(w,{}),t.jsx(S,{shadows:!0,dpr:[1,2],children:t.jsx(o.Suspense,{fallback:null,children:t.jsx(A,{})})}),t.jsx(o.Suspense,{fallback:null,children:t.jsx(L,{})})]})}export{D as default};
